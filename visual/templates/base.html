<!DOCTYPE html>

<title>{% block title %}{% endblock %}</title>
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
{% block style %}{% endblock %}
<nav>
    <ul class="menu">
        <li><a href="{{url_for('index')}}">Bitcoin</a></li>
        <li><a href="{{url_for('graphic.ethereum')}}">Ethereum</a></li>
        <li><a href="{{url_for('graphic.ripple')}}">Ripple (XRP)</a></li>
        <li><a href="{{url_for('graphic.bitcoinCash')}}">Bitcoin Cash</a></li>
        <li><a href="{{url_for('graphic.bitcoinSV')}}">BSV</a></li>
    </ul>
</nav>
<div class="hero">
    {% block hero %}{% endblock %}
</div>

{% block content %}{% endblock %}

<form method="post" class="parameters">
    <div class="param-vars">
        <div class="input">
            <label for="pred_from">Predict from:</label>
            <input type="date" name="pred_from" id="pred_from" value="2018-02-01"
                min="2017-01-01" max="2018-11-30">
        </div>
        <div class="input">    
            <label for="pred_to">Predict months:</label>
            <input type="value" name="pred_to" value=3 id="pred_to">
        </div>
        <div class="input">    
            <label for="low_perc">Low Percent:</label>
            <input type="value" value=5 name="low_perc" id="low_perc">
        </div>
        <div class="input">
            <label for="high_perc">High Percent:</label>
            <input type="value" value=95 name="high_perc" id="high_perc">
        </div>
    </div>
    <input type="submit" value="Plot" class="button">
</form>

<section class="description">
    <div class="description-text">
        <h1>So, what is this?</h1>
        <ul>
            <li>The graphic you can see above is the variation of the price (in dollars $) of the crypto-currency 
                in the period that appears in the x-axis of the plot, together with two grey zones which show
                the trend of the price.
            </li>
            <li>The <strong>trend</strong> is calculated with a linear least squares fit of the price on the time. The vertical line 
                shows the first date taken into account for the fit and it can be modified in the parameters
                panel.
            </li>
            <li>The dark grey area is the <strong>confidence interval</strong> for the
                trend of the price, whose percentiles can be
                also modified. It comes from the assumption that the trend determined by the linear fit is ok,
                but the variation of the price, i.e. the distances from the price to the linear fit, which 
                are called residuals, are random, so we <strong>simulate</strong> other scenarios by mixing
                the residuals and then we calculate the trend for each one of these simulated scenarios.
                Thus, if the lowest percentile is 5% and the 
                highest 95%, then the dark grey area is the space where 90% of the simulated trends fall.
            </li>
            <li>The light grey zone is the <strong>expected variation</strong> of the price from the trend, which is also 
                calculated by generating scenarios and adding random residuals to the trend.
            </li>
            <li>
                Currently, the number of iterations to calculate the confidence intervals is 100.
            </li>
            <li>
                I made this to consolidate the knlowdge obtained from the book <em>Think Stats 2</em> from Allen B.
                Downey and the flask tutorial.
            </li>
        </ul>
    </div>
</section>